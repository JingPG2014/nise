Building and installation instructions.

= Prerequisites =

NISE depends on the following software:

  * [http://www.boost.org Boost library]
  * [http://pocoproject.org/ Poco library]
  * Hadoop C++ library (libhadooppipes.a & libhadooputils.a)
  * [http://lshkit.sourceforge.net LSHKIT]
  * [http://archive.apache.org/dist/hadoop/core/hadoop-0.21.0/ Hadoop 0.21.0]
  * [http://www.ijg.org/files/jpegsrc.v8d.tar.gz jpeglib] (we need the functions jpeg_mem_src/dest that only present in the 8.x version).
  * GCC with C++11 support, cmake, java, ant
  * Various other libraries typically present in the system.

= Building =

== Directory layout ==

Put the nise code, LSHKIT code and an empty build directory in a directory structure like the following (SRC can be any directory):
  
{{{
[SRC] $ ls
lshkit nise
}}}


== C++ part ==

  Run the following:

{{{
[SRC]$ cd nise
[nise]$ cmake -D CMAKE_BUILD_TYPE=release ../nise
[nise]$ make
}}}

The executables will be produced in the directory SRC/nise/bin .
  
== Java part ==

  Run the following

{{{
[SRC]$ cd nise/java
[java]$ ant jar
}}}

= Installation =

Build a directory in your hadoop file system and export that as $NISE_HADOOP_HOME.  Chose a installation directory in local file system and export that as $NISE_HOME.

Run the following after successfully building the system:
{{{
[nise]$ ./setup.sh $NISE_HOME $NISE_HADOOP_HOME
}}}

= Running =

== Offline Indexing ==

Make sure the environment variables $NISE_HOME and $NISE_HADOOP_HOME are correctly set.

Edit the script nise/script/example.sh and change the following variables IMAGE_DIR and HADOOP_WORK_DIR (any temp dir in the hadoop file system to store the intermediate results) in the beginning of the script.

Change the current directory to where you want to index data structure to be stored and run the script.

== Starting the server ==

The above step should have produced a file "server.xml".  To start the server, simply run "$NISE_HOME/bin/server" in the current directory.



{{{
}}}